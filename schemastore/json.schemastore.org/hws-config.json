{"$schema":"http://json-schema.org/draft-07/schema","additionalProperties":false,"definitions":{"duration":{"oneOf":[{"type":"integer"},{"type":"string","pattern":"^[0-9]+\\s*[years|yrs|y|weeks|wks|w|days|d|hours|hrs|h|minutes|mins|m!seconds|secs|s|milliseconds|ms]*$"}]},"loggerLevel":{"type":"string","enum":["all","trace","debug","info","warn","error","fatal","off"],"default":"off"},"transportProtocols":{"type":"string","enum":["http","https"]},"namespace":{"type":"string"},"outputDirectory":{"type":"string","default":"logs"},"sequential":{"type":"boolean","default":false},"hardwareProblemTemplate":{"type":"string","default":"Hardware problem on \\${FQDN\\} with \\${MONITOR_NAME\\}.\\${NEWLINE\\}\\${NEWLINE\\}\\${ALERT_DETAILS\\}\\${NEWLINE\\}\\${NEWLINE\\}\\${FULLREPORT\\}"}},"$id":"https://json.schemastore.org/hws-config.json","properties":{"collectPeriod":{"$ref":"#/definitions/duration","default":"2m"},"disableAlerts":{"type":"boolean","default":false},"discoveryCycle":{"type":"integer","default":"30"},"exporter":{"type":"object","properties":{"otlp":{"type":["object","null"],"properties":{"headers":{"type":"object"},"trustedCertificatesFile":{"type":"string","default":"security/otel.crt"}}}}},"extraLabels":{"type":"object"},"extraMetrics":{"type":"object"},"hardwareProblemTemplate":{"$ref":"#/definitions/hardwareProblemTemplate"},"hosts":{"type":"array","items":{"type":"object","properties":{"collectPeriod":{"$ref":"#/definitions/duration","default":"2m"},"disableAlerts":{"type":"boolean","default":false},"discoveryCycle":{"type":"integer","default":"30"},"excludedConnectors":{"type":"array","items":{"type":"string"}},"extraLabels":{"type":"object"},"hardwareProblemTemplate":{"$ref":"#/definitions/hardwareProblemTemplate"},"host":{"type":"object","properties":{"hostname":{"type":"string"},"id":{"type":"string"},"type":{"type":"string","anyOf":[{"pattern":"^lin|^lnx$|^win|^ms.*win|^microsoft.*w|^oob$|^out|^vmware|^mgmt|^management|^esx|^blade|^net|^switch|^sto|^san|vms|tru64|osf|hp.*ux|aix|rs6000|^sun|^ora|sol"},{"enum":["win","linux","network","oob","storage","aix","hpux","solaris","tru64","vmx"]}]}},"required":["hostname","type"]},"http":{"type":"object","properties":{"https":{"type":"boolean","default":true},"password":{"type":"string"},"port":{"type":"integer","default":443},"timeout":{"$ref":"#/definitions/duration","default":"120s"},"username":{"type":"string"}}},"ipmi":{"type":"object","properties":{"password":{"type":"string"},"timeout":{"$ref":"#/definitions/duration","default":"120s"},"username":{"type":"string"}}},"loggerLevel":{"$ref":"#/definitions/loggerLevel"},"operationTimeout":{"type":"integer"},"osCommand":{"type":"object","properties":{"sudoCommand":{"type":"string","default":"sudo"},"timeout":{"$ref":"#/definitions/duration","default":"120s"},"useSudo":{"type":"boolean","default":false},"useSudoCommands":{"type":"array","items":{"type":"string"}}}},"outputDirectory":{"$ref":"#/definitions/outputDirectory"},"selectedConnectors":{"type":"array","items":{"type":"string"}},"sequential":{"$ref":"#/definitions/sequential"},"snmp":{"type":"object","properties":{"community":{"type":"string","default":"public"},"password":{"type":"string"},"port":{"type":"integer","default":161},"privacy":{"type":"string","enum":["none","aes","des"]},"privacyPassword":{"type":"string"},"timeout":{"$ref":"#/definitions/duration","default":"120s"},"username":{"type":"string"},"version":{"type":"string","enum":["v1","v2c","v3-no-auth","v3-md5","v3-sha"],"default":"v1"}}},"ssh":{"type":"object","properties":{"password":{"type":"string"},"privateKey":{"type":"string"},"sudoCommand":{"type":"string","default":"sudo"},"timeout":{"$ref":"#/definitions/duration","default":"120s"},"useSudo":{"type":"boolean","default":false},"useSudoCommands":{"type":"array","items":{"type":"string"}},"username":{"type":"string"}}},"wbem":{"type":"object","properties":{"namespace":{"$ref":"#/definitions/namespace"},"password":{"type":"string"},"port":{"type":"integer","default":5989},"protocol":{"$ref":"#/definitions/transportProtocols","default":"https"},"timeout":{"$ref":"#/definitions/duration","default":"120s"},"username":{"type":"string"}}},"winrm":{"type":"object","properties":{"authentications":{"type":"array","items":{"type":"string","enum":["ntlm","kerberos"]},"default":["ntlm"]},"namespace":{"$ref":"#/definitions/namespace"},"password":{"type":"string"},"port":{"type":"integer"},"protocol":{"$ref":"#/definitions/transportProtocols","default":"http"},"timeout":{"$ref":"#/definitions/duration","default":"120s"},"username":{"type":"string"}}},"wmi":{"type":"object","properties":{"namespace":{"$ref":"#/definitions/namespace"},"password":{"type":"string"},"timeout":{"$ref":"#/definitions/duration","default":"120s"},"username":{"type":"string"}}}},"required":["host"]}},"jobPoolSize":{"type":"integer","default":"20"},"loggerLevel":{"$ref":"#/definitions/loggerLevel"},"outputDirectory":{"$ref":"#/definitions/outputDirectory"},"resolveHostnameToFqdn":{"type":"boolean","default":false},"sequential":{"$ref":"#/definitions/sequential"}},"title":"Hardware Sentry configuration file","type":"object"}