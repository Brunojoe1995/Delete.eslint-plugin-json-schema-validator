{"$schema":"http://json-schema.org/draft-07/schema","$id":"https://json.schemastore.org/azure-deviceupdate-import-manifest-4.0.json","type":"object","title":"JSON Schema for Azure Device Update for IoT Hub 'Import Manifest' version 4.0","properties":{"$schema":{"type":"string"},"updateId":{"$ref":"azure-deviceupdate-manifest-definitions-4.0.json#/definitions/updateId"},"description":{"type":"string","title":"Update description","minLength":1,"maxLength":512},"compatibility":{"$ref":"azure-deviceupdate-manifest-definitions-4.0.json#/definitions/compatibility"},"instructions":{"$ref":"#/definitions/instructions"},"files":{"type":"array","title":"Update files","items":{"$ref":"azure-deviceupdate-manifest-definitions-4.0.json#/definitions/file"},"minItems":0,"maxItems":10},"manifestVersion":{"type":"string","title":"Import manifest schema version","const":"4.0"},"createdDateTime":{"type":"string","title":"Created date & time","examples":["2020-10-02T22:18:04.9446744Z"]}},"required":["updateId","compatibility","instructions","manifestVersion","createdDateTime"],"definitions":{"instructions":{"type":"object","title":"Installation instructions","properties":{"steps":{"type":"array","title":"Installation steps","items":{"anyOf":[{"$ref":"#/definitions/inlineStep"},{"$ref":"#/definitions/referenceStep"}]},"minItems":1,"maxItems":10}},"additionalProperties":false,"required":["steps"]},"stepDescription":{"type":"string","title":"Step description","minLength":1,"maxLength":64},"inlineStep":{"type":"object","title":"Inline installation step","properties":{"type":{"$ref":"azure-deviceupdate-manifest-definitions-4.0.json#/definitions/inlineStepType"},"description":{"$ref":"#/definitions/stepDescription"},"handler":{"$ref":"azure-deviceupdate-manifest-definitions-4.0.json#/definitions/inlineStepHandler"},"files":{"type":"array","title":"Step update files","items":{"$ref":"azure-deviceupdate-manifest-definitions-4.0.json#/definitions/filename"},"minItems":1,"maxItems":10},"handlerProperties":{"$ref":"azure-deviceupdate-manifest-definitions-4.0.json#/definitions/inlineStepHandlerProperties"}},"additionalProperties":false,"required":["handler","files"]},"referenceStep":{"type":"object","title":"Reference installation step","properties":{"type":{"$ref":"azure-deviceupdate-manifest-definitions-4.0.json#/definitions/referenceStepType"},"description":{"$ref":"#/definitions/stepDescription"},"updateId":{"$ref":"azure-deviceupdate-manifest-definitions-4.0.json#/definitions/updateId"}},"additionalProperties":false,"required":["type","updateId"]}},"examples":[{"updateId":{"provider":"Microsoft","name":"Toaster","version":"1.0"},"compatibility":[{"deviceManufacturer":"Microsoft","deviceModel":"Toaster"}],"instructions":{"steps":[{"handler":"microsoft/script:1","handlerProperties":{"arguments":"--pre-install"},"files":["configure.sh"]},{"type":"reference","updateId":{"provider":"Microsoft","name":"Sensor","version":"1.0"}}]},"files":[{"filename":"configure.sh","sizeInBytes":718,"hashes":{"sha256":"mcB5SexMU4JOOzqmlJqKbue9qMskWY3EI/iVjJxCtAs="}}],"manifestVersion":"4.0","createdDateTime":"2020-10-02T22:18:04.9446744Z"}]}