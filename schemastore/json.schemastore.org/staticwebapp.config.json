{"$schema":"http://json-schema.org/draft-07/schema","title":"Azure Static Web Apps configuration file","type":"object","default":{"navigationFallback":{"rewrite":"/index.html"}},"definitions":{"route":{"type":"object","required":["route"],"properties":{"route":{"type":"string"},"methods":{"type":"array","items":{"anyOf":[{"type":"string","enum":["GET","HEAD","POST","PUT","DELETE","PATCH","CONNECT","OPTIONS","TRACE"]}]}},"allowedRoles":{"type":"array","items":{"anyOf":[{"type":"string","examples":["anonymous","authenticated"]}]}},"headers":{"type":"object","additionalProperties":true}},"additionalProperties":true},"routeRedirect":{"required":["redirect"],"not":{"required":["rewrite"]},"properties":{"redirect":{"type":"string"},"statusCode":{"type":"integer","default":302,"enum":[301,302]}}},"routeRewrite":{"required":["rewrite"],"not":{"required":["redirect","statusCode"]},"properties":{"rewrite":{"type":"string"}}},"auth":{"type":"object","required":["identityProviders"],"properties":{"identityProviders":{"type":"object","properties":{"azureActiveDirectory":{"type":"object","required":["registration"],"properties":{"enabled":{"type":"boolean","default":true},"registration":{"type":"object","required":["openIdIssuer","clientSecretSettingName"],"properties":{"openIdIssuer":{"type":"string"},"clientId":{"type":"string"},"clientIdSettingName":{"type":"string"},"clientSecretSettingName":{"type":"string"}},"additionalProperties":false},"login":{"type":"object","properties":{"loginParameters":{"type":"array","items":{"type":"string"}}},"additionalProperties":false},"userDetailsClaim":{"type":"string"}},"additionalProperties":false},"apple":{"type":"object","required":["registration"],"properties":{"enabled":{"type":"boolean","default":true},"registration":{"type":"object","required":["clientSecretSettingName"],"properties":{"clientId":{"type":"string"},"clientIdSettingName":{"type":"string"},"clientSecretSettingName":{"type":"string"}},"additionalProperties":false},"login":{"type":"object","properties":{"scopes":{"type":"array","items":{"type":"string"}}},"additionalProperties":false},"userDetailsClaim":{"type":"string"}},"additionalProperties":false},"facebook":{"type":"object","required":["registration"],"properties":{"enabled":{"type":"boolean","default":true},"registration":{"type":"object","required":["appSecretSettingName"],"properties":{"appId":{"type":"string"},"appIdSettingName":{"type":"string"},"appSecretSettingName":{"type":"string"}},"additionalProperties":false},"login":{"type":"object","properties":{"scopes":{"type":"array","items":{"type":"string"}}},"additionalProperties":false},"userDetailsClaim":{"type":"string"}},"additionalProperties":false},"github":{"type":"object","required":["registration"],"properties":{"enabled":{"type":"boolean","default":true},"registration":{"type":"object","required":["clientSecretSettingName"],"properties":{"clientId":{"type":"string"},"clientIdSettingName":{"type":"string"},"clientSecretSettingName":{"type":"string"}},"additionalProperties":false},"login":{"type":"object","properties":{"scopes":{"type":"array","items":{"type":"string"}}},"additionalProperties":false},"userDetailsClaim":{"type":"string"}},"additionalProperties":false},"google":{"type":"object","required":["registration"],"properties":{"enabled":{"type":"boolean","default":true},"registration":{"type":"object","required":["clientSecretSettingName"],"properties":{"clientId":{"type":"string"},"clientIdSettingName":{"type":"string"},"clientSecretSettingName":{"type":"string"}},"additionalProperties":false},"login":{"type":"object","properties":{"scopes":{"type":"array","items":{"type":"string"}}},"additionalProperties":false},"userDetailsClaim":{"type":"string"}},"additionalProperties":false},"twitter":{"type":"object","required":["registration"],"properties":{"enabled":{"type":"boolean","default":true},"registration":{"type":"object","required":["consumerSecretSettingName"],"properties":{"consumerKey":{"type":"string"},"consumerKeySettingName":{"type":"string"},"consumerSecretSettingName":{"type":"string"}},"additionalProperties":false},"userDetailsClaim":{"type":"string"}},"additionalProperties":false},"customOpenIdConnectProviders":{"type":"object","patternProperties":{".*":{"required":["registration","login"],"properties":{"enabled":{"type":"boolean","default":true},"registration":{"type":"object","required":["clientCredential","openIdConnectConfiguration"],"properties":{"clientId":{"type":"string"},"clientIdSettingName":{"type":"string"},"clientCredential":{"type":"object","required":["clientSecretSettingName"],"properties":{"clientSecretSettingName":{"type":"string"}}},"openIdConnectConfiguration":{"type":"object","properties":{"authorizationEndpoint":{"type":"string"},"tokenEndpoint":{"type":"string"},"issuer":{"type":"string"},"certificationUri":{"type":"string"},"wellKnownOpenIdConfiguration":{"type":"string"}}}},"additionalProperties":false},"login":{"type":"object","properties":{"nameClaimType":{"type":"string"},"scopes":{"type":"array","items":{"type":"string"}},"loginParameterNames":{"type":"array","items":{"type":"string"}}},"additionalProperties":false}},"additionalProperties":false}}}},"additionalProperties":false}},"additionalProperties":false}},"properties":{"routes":{"type":"array","default":[{"route":"/example","rewrite":"/example.html"}],"items":{"examples":[{"route":"/example","rewrite":"/example.html"},{"route":"/login","redirect":"/.auth/login/github"}],"anyOf":[{"allOf":[{"$ref":"#/definitions/route"}]},{"allOf":[{"$ref":"#/definitions/route"},{"$ref":"#/definitions/routeRedirect"}]},{"allOf":[{"$ref":"#/definitions/route"},{"$ref":"#/definitions/routeRewrite"}]}]}},"navigationFallback":{"type":"object","default":{"rewrite":"/index.html"},"required":["rewrite"],"properties":{"rewrite":{"type":"string","default":"/index.html"},"exclude":{"type":"array","examples":[["*.{jpg,gif,png}","assets/*"]]}},"additionalProperties":false},"responseOverrides":{"type":"object","examples":[{"404":{"rewrite":"/custom_404.html","statusCode":200}}],"propertyNames":{"pattern":"^\\d+$"},"patternProperties":{".*":{"oneOf":[{"allOf":[{"$ref":"#/definitions/routeRewrite"},{"properties":{"statusCode":{"type":"integer","examples":[200]}}}]},{"$ref":"#/definitions/routeRedirect"}]}}},"mimeTypes":{"type":"object","default":{},"examples":[{".config":"application/xml"}],"additionalProperties":true},"globalHeaders":{"type":"object","additionalProperties":true},"auth":{"$ref":"#/definitions/auth"}},"additionalProperties":true}