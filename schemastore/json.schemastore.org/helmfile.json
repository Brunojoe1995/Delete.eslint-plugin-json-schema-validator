{"$schema":"http://json-schema.org/draft-07/schema#","title":"Helmfile config schema","definitions":{"repository":{"type":"object","required":["name"],"properties":{"name":{"type":"string"},"url":{"type":"string"},"certFile":{"type":"string"},"keyFile":{"type":"string"},"caFile":{"type":"string"},"username":{"type":"string"},"password":{"type":"string"},"oci":{"type":"boolean"},"passCredentials":{"type":"boolean"}}},"helmDefaults":{"type":"object","properties":{"tillerNamespace":{"type":"string"},"tillerless":{"type":"boolean"},"kubeContext":{"type":"string"},"cleanupOnFail":{"type":"boolean"},"args":{"type":"array","items":{"anyOf":[{"type":"string"}]}},"verify":{"type":"boolean"},"wait":{"type":"boolean"},"waitForJobs":{"type":"boolean"},"timeout":{"type":"number"},"recreatePods":{"type":"boolean"},"force":{"type":"boolean"},"tls":{"type":"boolean"},"tlsCACert":{"type":"string"},"tlsCert":{"type":"string"},"tlsKey":{"type":"string"},"historyMax":{"type":"number","default":10},"createNamespace":{"type":"boolean"}}},"release":{"type":"object","properties":{"atomic":{"type":"boolean"},"chart":{"type":"string"},"cleanupOnFail":{"type":"boolean","default":false},"condition":{"type":"string"},"createNamespace":{"type":"boolean"},"devel":{"type":"boolean","default":false},"disableValidation":{"type":"boolean"},"disableValidationOnInstall":{"type":"boolean"},"disableOpenAPIValidation":{"type":"boolean"},"force":{"type":"boolean"},"historyMax":{"type":"number"},"hooks":{"type":"array","items":{"$ref":"#/definitions/hook"}},"installed":{"anyOf":[{"type":"boolean"},{"type":"string"},{"type":"object"}]},"kubeContext":{"type":"string"},"labels":{"$ref":"#/definitions/map"},"missingFileHandler":{"type":"string","$ref":"#/definitions/missingFileHandler"},"name":{"type":"string"},"namespace":{"type":"string","examples":["default"]},"recreatePods":{"type":"boolean"},"secrets":{"type":"array","items":{"type":"string"}},"set":{"type":"array","items":{"anyOf":[{"type":"object","properties":{"name":{"type":"string"},"file":{"type":"string"}}},{"type":"object","properties":{"name":{"type":"string"},"values":{"type":"array","items":{"anyOf":[{"type":"number"}]}}}},{"type":"object","properties":{"name":{"type":"string"},"value":{"type":"string"}}}]}},"skipDeps":{"type":"boolean","default":false},"tillerNamespace":{"type":"string"},"tillerless":{"type":"boolean"},"timeout":{"type":"number"},"tls":{"type":"boolean"},"tlsCACert":{"type":"string"},"tlsCert":{"type":"string"},"tlsKey":{"type":"string"},"values":{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/definitions/map"}]}},"verify":{"type":"boolean"},"version":{"anyOf":[{"type":"string"},{"type":"number"},{"type":"integer"}]},"wait":{"type":"boolean"},"waitForJobs":{"type":"boolean"}},"required":["name","chart"]},"helmfile":{"anyOf":[{"type":"string"},{"type":"object","required":["path"],"properties":{"path":{"type":"string"},"selectors":{"type":"array","items":{"anyOf":[{"type":"string"}]}},"values":{"type":"array","items":{"anyOf":[{"type":"string"},{"type":"object","properties":{"key1":{"type":"string"}}}]}}}}]},"missingFileHandler":{"type":"string","enum":["Error","Warn"]},"environment":{"type":"object","properties":{"values":{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/definitions/map"}]}},"secrets":{"type":"array","items":{"type":"string"}},"missingFileHandler":{"$ref":"#/definitions/missingFileHandler"},"kubeContext":{"type":"string"}}},"hook":{"type":"object","properties":{"events":{"type":"array","items":{"type":"string"}},"showlogs":{"type":"boolean"},"command":{"type":"string"},"args":{"type":"array","items":{"anyOf":[{"type":"string"},{"type":"string"}]}}}},"map":{"type":"object","patternProperties":{"[a-zA-Z\\d_-]+":{"anyOf":[{"type":"object"},{"type":"boolean"},{"type":"string"},{"type":"array"},{"type":"null"},{"type":"integer"}]}}}},"properties":{"apiVersions":{"type":"array","items":{"type":"string","examples":["example/v1"]}},"bases":{"type":"array","items":{"anyOf":[{"type":"string"}]}},"environments":{"type":"object","default":{"default":{}},"examples":[{"default":{"values":[]}}],"patternProperties":{"[a-zA-Z\\d_-]+":{"$ref":"#/definitions/environment"}}},"commonLabels":{"type":"object","$ref":"#/definitions/map"},"helmBinary":{"type":"string","examples":["path/to/helm3"]},"helmDefaults":{"$ref":"#/definitions/helmDefaults"},"helmfiles":{"type":"array","items":{"$ref":"#/definitions/helmfile"}},"hooks":{"type":"array","items":{"$ref":"#/definitions/hook"}},"missingFileHandler":{"$ref":"#/definitions/missingFileHandler"},"releases":{"type":"array","items":{"$ref":"#/definitions/release"}},"repositories":{"type":"array","items":{"$ref":"#/definitions/repository"}}}}